load('J:\Data & Analysis\Rule Switching\Results\170929 M48 RuleSwitching_DEVO\results.mat', 'decode')
% load('J:\Data & Analysis\Rule Switching\Results\171103 M47 RuleSwitching_DEVO\results.mat', 'decode')

setup_figprops('timeseries');
nShuffle = size(decode.outcome.AUC_shuffle{1},1);

% figure;
%
% X = repmat(decode.t,nShuffle,1);
% for i=1:nShuffle
%     line(X,max(decode.outcome.AUC_shuffle{1},[],i),'Color',[0.5 0.5 0.5]); hold on;
% end

i=3;
shuffle_hi = prctile(decode.outcome.AUC_shuffle{i},95);
shuffle_lo = prctile(decode.outcome.AUC_shuffle{i},5);

figure;
errorshade(decode.t,shuffle_lo,shuffle_hi,'k',0.2); hold on;
plot(decode.t,decode.outcome.AUC{i},'r');

for j = 1:nShuffle
    nullRep = decode.outcome.AUC_shuffle{i}(j,:);
    shuffle_hi = prctile(decode.outcome.AUC_shuffle{i},95);
    shuffle_lo = prctile(decode.outcome.AUC_shuffle{i},5);
    for t=1:numel(decode.t)
    
    end
    
end